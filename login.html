<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - S Shop LK</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://i.ibb.co/FqsbsjVB/S-shop-lk-logo.png">
    <link rel="shortcut icon" type="image/png" href="https://i.ibb.co/FqsbsjVB/S-shop-lk-logo.png">
    <script src="favicon.js"></script>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="font-loader.js"></script>
    <style>
        body {
            background-color: #0f172a;
            color: #e2e8f0;
            overflow-x: hidden;
        }
        /* Custom scrollbar for a professional look */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #0f172a;
        }
        ::-webkit-scrollbar-thumb {
            background: #1e293b;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #334155;
        }
        /* Desktop split-view specific styles */
        @media (min-width: 1024px) {
            .login-split-container {
                display: flex;
                min-height: calc(100vh - 80px); /* Subtract header height roughly */
            }
            .login-hero {
                flex: 1;
                background: linear-gradient(135deg, #1e3a8a 0%, #0f172a 100%);
                display: flex;
                flex-direction: column;
                justify-content: center;
                padding: 4rem;
                position: relative;
                overflow: hidden;
            }
            .login-hero::before {
                content: '';
                position: absolute;
                top: -10%;
                right: -10%;
                width: 400px;
                height: 400px;
                background: rgba(59, 130, 246, 0.1);
                border-radius: 50%;
                filter: blur(80px);
            }
            .login-form-side {
                width: 500px;
                background: #ffffff;
                display: flex;
                align-items: center;
                justify-content: center;
                padding: 2rem;
            }
        }
    </style>
</head>
<body class="flex flex-col min-h-screen">

    <!-- Header Component -->
    <div id="header-container" class="w-full"></div>

    <main class="flex-grow flex flex-col">
        <!-- Main Layout Container -->
        <div class="login-split-container flex-grow w-full">
            
            <!-- Left Side: Hero (Visible on Desktop) -->
            <div class="login-hero hidden lg:flex">
                <div class="z-10 max-w-lg">
                    <div class="flex items-center space-x-3 mb-6">
                        <img src="https://i.ibb.co/FqsbsjVB/S-shop-lk-logo.png" alt="Logo" class="h-16 w-16">
                        <span class="text-4xl font-black tracking-tight text-white">S Shop LK</span>
                    </div>
                    <h2 class="text-5xl font-bold text-white leading-tight mb-6">
                        Elevate Your <br> <span class="text-blue-400">Shopping Experience</span>
                    </h2>
                    <p class="text-blue-100 text-lg mb-8 opacity-80 leading-relaxed">
                        Access exclusive deals, track your orders in real-time, and discover the best products handpicked just for you in Sri Lanka's premium marketplace.
                    </p>
                    <div class="grid grid-cols-2 gap-6">
                        <div class="bg-white/5 p-4 rounded-xl border border-white/10">
                            <h4 class="text-white font-bold">Fast Delivery</h4>
                            <p class="text-blue-200 text-sm opacity-70">Islandwide shipping within 48 hours.</p>
                        </div>
                        <div class="bg-white/5 p-4 rounded-xl border border-white/10">
                            <h4 class="text-white font-bold">Secure Payment</h4>
                            <p class="text-blue-200 text-sm opacity-70">100% safe transactions guaranteed.</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Side: Form (Responsive) -->
            <div class="login-form-side flex-grow lg:flex-none">
                <div class="bg-white lg:bg-transparent rounded-2xl lg:rounded-none shadow-2xl lg:shadow-none p-8 w-full max-w-md mx-auto">
                    
                    <!-- Header (Mobile Version Only has the Icon) -->
                    <div class="text-center mb-8">
                        <div class="flex items-center justify-center space-x-2 mb-4 lg:hidden">
                            <img src="https://i.ibb.co/FqsbsjVB/S-shop-lk-logo.png" alt="Logo" class="h-12 w-12">
                            <span class="text-3xl font-extrabold text-gray-900">S Shop LK</span>
                        </div>
                        <h1 class="text-3xl font-bold text-gray-900">Welcome Back</h1>
                        <p class="text-gray-500 mt-2">Log in to manage your account</p>
                    </div>

                    <!-- Login Form -->
                    <form id="loginForm" class="space-y-5">
                        <div>
                            <label class="block text-sm font-semibold text-gray-700 mb-1.5">Email Address</label>
                            <input type="email" id="email" placeholder="name@company.com" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-gray-900" required>
                        </div>
                        
                        <div>
                            <div class="flex items-center justify-between mb-1.5">
                                <label for="password" class="block text-sm font-semibold text-gray-700">Password</label>
                                <button type="button" id="forgotPasswordBtn" class="text-xs font-bold text-blue-600 hover:text-blue-800 transition-colors uppercase tracking-wider">Forgot password?</button>
                            </div>
                            <div class="relative">
                                <input type="password" id="password" placeholder="••••••••" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:bg-white transition-all text-gray-900 pr-12" required>
                                <button type="button" id="togglePassword" class="absolute inset-y-0 right-0 px-4 flex items-center text-gray-400 hover:text-gray-600" aria-label="Toggle password visibility">
                                    <svg id="eyeIcon" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" />
                                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                                    </svg>
                                </button>
                            </div>
                        </div>
                        
                        <div class="flex items-center">
                            <input type="checkbox" id="rememberMe" class="h-4 w-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 cursor-pointer">
                            <label for="rememberMe" class="ml-2 text-sm text-gray-600 cursor-pointer select-none">Stay signed in for 30 days</label>
                        </div>
                        
                        <button type="submit" class="w-full bg-blue-600 text-white py-3.5 rounded-xl font-bold text-lg hover:bg-blue-700 shadow-lg shadow-blue-200 active:scale-[0.98] transition-all duration-200">
                            Sign In
                        </button>
                    </form>

                    <!-- Divider -->
                    <div class="relative my-8">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-200"></div>
                        </div>
                        <div class="relative flex justify-center text-sm">
                            <span class="px-4 bg-white lg:bg-transparent text-gray-400 uppercase tracking-widest font-medium text-xs">Or continue with</span>
                        </div>
                    </div>

                    <!-- Google Sign-In Button -->
                    <button id="googleSignInBtn" type="button" class="w-full flex items-center justify-center gap-3 bg-white border border-gray-300 text-gray-700 font-bold py-3.5 rounded-xl shadow-sm hover:bg-gray-50 hover:border-gray-400 transition-all duration-200 active:scale-[0.98]">
                        <img src="https://www.svgrepo.com/show/475656/google-color.svg" alt="Google" class="w-5 h-5">
                        Sign in with Google
                    </button>

                    <!-- Error/Success Messages -->
                    <div id="googleErrorMessage" class="hidden mt-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-xl text-center text-sm font-medium"></div>
                    <div id="errorMessage" class="hidden mt-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-xl text-center text-sm font-medium">
                        Invalid email or password. Please try again.
                    </div>
                    <div id="successMessage" class="hidden mt-4 p-3 bg-green-50 border border-green-200 text-green-600 rounded-xl text-center text-sm font-medium">
                        Login successful! Redirecting...
                    </div>

                    <!-- Sign Up Link -->
                    <div class="text-center mt-8">
                        <p class="text-gray-500 font-medium">
                            New here? 
                            <button type="button" id="showSignUpBtn" class="text-blue-600 hover:text-blue-800 font-bold decoration-2 hover:underline">Create an account</button>
                        </p>
                    </div>

                    <!-- Back to Website -->
                    <div class="text-center mt-8 pt-4 border-t border-gray-100 lg:border-none">
                        <a href="index.html" class="text-sm font-bold text-gray-400 hover:text-blue-600 transition-colors inline-flex items-center gap-2">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"/></svg>
                            Back to Website
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Modals (Keep all original IDs) -->
    <div id="forgotPasswordModal" class="fixed inset-0 bg-gray-950/80 backdrop-blur-sm flex items-center justify-center z-[1000] p-4 hidden">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md">
            <h3 class="text-2xl font-bold text-gray-900 mb-2">Reset Password</h3>
            <p class="text-gray-600 mb-6">Enter your email address and we'll send you a link to reset your password.</p>
            <input type="email" id="resetEmail" class="w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 mb-6 text-gray-900" placeholder="Enter your email">
            <div class="flex flex-col gap-3">
                <button id="resetPasswordBtn" class="w-full bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors">
                    Send Reset Link
                </button>
                <button type="button" id="closeForgotPasswordBtn" class="w-full bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition-colors">
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <div id="signUpModal" class="fixed inset-0 bg-gray-950/80 backdrop-blur-sm flex items-center justify-center z-[1000] p-4 hidden">
        <div class="bg-white rounded-2xl shadow-2xl p-8 w-full max-w-md max-h-[90vh] overflow-y-auto">
            <h3 class="text-2xl font-bold text-gray-900 mb-6">Create Account</h3>
            <div class="space-y-4">
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-1.5">Username</label>
                    <input type="text" id="signUpUsername" class="w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900" placeholder="e.g. janesmith">
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-1.5">Email Address</label>
                    <input type="email" id="signUpEmail" class="w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-gray-900" placeholder="jane@example.com">
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-1.5">Password</label>
                    <div class="relative">
                        <input type="password" id="signUpPassword" class="w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10 text-gray-900" placeholder="Create a strong password">
                        <button type="button" id="toggleSignUpPassword" class="absolute inset-y-0 right-0 px-3 flex items-center text-gray-400">
                            <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg>
                        </button>
                    </div>
                </div>
                <div>
                    <label class="block text-sm font-semibold text-gray-700 mb-1.5">Confirm Password</label>
                    <div class="relative">
                        <input type="password" id="signUpConfirmPassword" class="w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 pr-10 text-gray-900" placeholder="Repeat password">
                        <button type="button" id="toggleSignUpConfirmPassword" class="absolute inset-y-0 right-0 px-3 flex items-center text-gray-400">
                            <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg>
                        </button>
                    </div>
                </div>
            </div>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 mt-8">
                <button id="createAccountBtn" class="bg-blue-600 text-white py-3 rounded-xl font-bold hover:bg-blue-700 transition-colors order-1 sm:order-2">
                    Create Account
                </button>
                <button type="button" id="closeSignUpBtn" class="bg-gray-100 text-gray-700 py-3 rounded-xl font-bold hover:bg-gray-200 transition-colors order-2 sm:order-1">
                    Cancel
                </button>
            </div>
        </div>
    </div>

    <!-- Footer Component -->
    <div id="footer-container" class="w-full"></div>

    <!-- Firebase SDK (Using original scripts) -->
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
    <script src="firebase-config.js"></script>

    <!-- Components and Scripts -->
    <script src="header-component.js"></script>
    <script src="footer-component.js" defer></script>
    <script src="login.js" defer></script>

</body>
</html>