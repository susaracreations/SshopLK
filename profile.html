<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - S Shop LK</title>
    <link rel="icon" type="image/png" href="https://i.ibb.co/FqsbsjVB/S-shop-lk-logo.png">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: #e2e8f0;
        }
        .profile-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .avatar-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .nav-item.active {
            background-color: #1e293b;
            color: #e2e8f0;
            font-weight: 600;
        }
    </style>
</head>
<body class="min-h-screen">

    <!-- Header Container -->
    <div id="header-container"></div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 md:grid-cols-4 gap-8">

            <!-- Left Sidebar -->
            <aside class="md:col-span-1">
                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-700/50 p-6 space-y-6 sticky top-24">
                    <!-- User Info -->
                    <div class="text-center">
                        <div class="relative inline-block mb-4">
                            <div id="profileAvatar" class="w-24 h-24 rounded-full avatar-gradient flex items-center justify-center text-white font-bold text-3xl shadow-lg">
                                <span id="profileInitials">U</span>
                            </div>
                            <span class="absolute bottom-0 right-0 block h-5 w-5 rounded-full bg-green-500 border-2 border-slate-800"></span>
                        </div>
                        <h1 class="text-xl font-bold text-white" id="profileName">My Profile</h1>
                        <p class="text-sm text-slate-400" id="profileEmail">user@example.com</p>
                    </div>

                    <!-- Navigation -->
                    <nav class="space-y-2">
                        <a href="#" data-tab="profile" class="nav-item flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-300 hover:bg-slate-700/50 transition-colors duration-200 active">
                            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
                            </svg>
                            <span>Profile</span>
                        </a>
                        <a href="#" data-tab="security" class="nav-item flex items-center space-x-3 px-4 py-3 rounded-lg text-slate-300 hover:bg-slate-700/50 transition-colors duration-200">
                            <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                            </svg>
                            <span>Security</span>
                        </a>
                    </nav>

                    <!-- Stats -->
                    <div class="border-t border-slate-700 pt-6 space-y-4">
                        <div class="flex justify-between items-center text-sm">
                            <span class="text-slate-400">Member Since</span>
                            <span class="font-semibold text-white"><span id="memberSince">0</span> days</span>
                        </div>
                        <div class="flex justify-between items-center text-sm">
                            <span class="text-slate-400">Profile Views</span>
                            <span class="font-semibold text-white" id="profileViews">0</span>
                        </div>
                        <div class="flex justify-between items-center text-sm">
                            <span class="text-slate-400">Last Active</span>
                            <span class="font-semibold text-white"><span id="lastActive">0</span> days ago</span>
                        </div>
                    </div>
                </div>
            </aside>

            <!-- Right Content Area -->
            <section class="md:col-span-3">
                <!-- Profile Content -->
                <div id="profile-content" class="tab-content bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-700/50">
                    <div class="p-6 border-b border-slate-700/50 flex items-center justify-between">
                        <div>
                            <h2 class="text-xl font-bold text-white">Profile Information</h2>
                            <p class="text-sm text-slate-400">Update your account's profile information.</p>
                        </div>
                        <button id="editProfileBtn" onclick="toggleEditMode()" class="bg-blue-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-all duration-300 flex items-center space-x-2 text-sm">
                            <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z" />
                            </svg>
                            <span>Edit</span>
                        </button>
                    </div>
                    <form id="profileForm" class="p-6 space-y-6">
                        <div>
                            <label for="username" class="block text-sm font-medium text-slate-300 mb-2">Username</label>
                            <input type="text" id="username" name="username" class="w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300" placeholder="Enter your username" disabled>
                            <p class="text-xs text-slate-400 mt-2">Username must be 3-20 characters, letters, numbers, and underscores only.</p>
                        </div>
                        <div>
                            <label for="bio" class="block text-sm font-medium text-slate-300 mb-2">Bio</label>
                            <textarea id="bio" name="bio" rows="4" class="w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed resize-none transition-all duration-300" placeholder="Tell us about yourself..." disabled></textarea>
                            <p class="text-xs text-slate-400 mt-2">A short description about yourself (optional).</p>
                        </div>
                        <div>
                            <label for="email" class="block text-sm font-medium text-slate-300 mb-2">Email Address</label>
                            <input type="email" id="email" name="email" class="w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-slate-400 cursor-not-allowed" placeholder="Enter your email" readonly>
                            <p class="text-xs text-slate-400 mt-2">Email cannot be changed for security reasons.</p>
                        </div>
                        <div id="actionButtons" class="hidden flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-4 pt-4">
                            <button type="submit" class="bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 transition-all duration-300 flex items-center justify-center space-x-2">
                                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>
                                <span>Save Changes</span>
                            </button>
                            <button type="button" onclick="cancelEdit()" class="bg-slate-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-slate-700 transition-all duration-300 flex items-center justify-center space-x-2">
                                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                                <span>Cancel</span>
                            </button>
                        </div>
                    </form>
                </div>

                <!-- Security Content -->
                <div id="security-content" class="tab-content hidden bg-slate-800/50 backdrop-blur-sm rounded-xl border border-slate-700/50">
                    <div class="p-6 border-b border-slate-700/50">
                        <h2 class="text-xl font-bold text-white">Security Settings</h2>
                        <p class="text-sm text-slate-400">Manage your password and account security.</p>
                    </div>
                    <form id="securityForm" class="p-6 space-y-6">
                        <div>
                            <label for="currentPassword" class="block text-sm font-medium text-slate-300 mb-2">Current Password</label>
                            <input type="password" id="currentPassword" name="currentPassword" class="w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter your current password">
                        </div>
                        <div>
                            <label for="newPassword" class="block text-sm font-medium text-slate-300 mb-2">New Password</label>
                            <input type="password" id="newPassword" name="newPassword" class="w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter a new password">
                            <p class="text-xs text-slate-400 mt-2">Password must be at least 6 characters long.</p>
                        </div>
                        <div>
                            <label for="confirmNewPassword" class="block text-sm font-medium text-slate-300 mb-2">Confirm New Password</label>
                            <input type="password" id="confirmNewPassword" name="confirmNewPassword" class="w-full px-4 py-3 bg-slate-700/50 border border-slate-600 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Confirm your new password">
                        </div>
                        <div class="pt-4">
                            <button type="submit" class="bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-all duration-300 flex items-center justify-center space-x-2">
                                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" /></svg>
                                <span>Update Password</span>
                            </button>
                        </div>
                    </form>
                </div>

            </section>

        </div>
    </main>

    <!-- Footer Container -->
    <div id="footer-container"></div>

    <!-- Success/Error Messages -->
    <div id="successMessage" class="fixed top-20 right-4 bg-green-600 text-white px-6 py-4 rounded-xl shadow-2xl z-[1001] hidden transform translate-x-full transition-transform duration-300">
        <div class="flex items-center space-x-3">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
            </svg>
            <span id="successMessageText" class="font-semibold">Changes saved successfully!</span>
        </div>
    </div>

    <div id="errorMessage" class="fixed top-20 right-4 bg-red-600 text-white px-6 py-4 rounded-xl shadow-2xl z-[1001] hidden transform translate-x-full transition-transform duration-300">
        <div class="flex items-center space-x-3">
            <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
            <span id="errorMessageText" class="font-semibold">An error occurred. Please try again.</span>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="firebase-config.js"></script>

    <!-- Component Scripts -->
    <script src="header-component.js"></script>
    <script src="footer-component.js"></script>
    
    <!-- Page-specific JavaScript -->
    <script src="profile.js" defer></script>

</body>
</html> 